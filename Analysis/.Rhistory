data <- data[!is.na(data$TRIAL), ]
if (doExtension){
data <- data[!is.na(data$EXT),]
}else{
data <- data
}
dim(data)
# #Debugging the binomial testing
# for (cond in unique(data$EXPERIMENT))
# {
#   for (trial in unique(data$TRIAL))
#   {
#     n = length(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT)
#     x = sum(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT, na.rm=TRUE)
#     test = prop.test(x, n, conf.level=0.95)
#     #plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
#     #plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#     print('set')
#     print(x)
#     print(n)
#     print(test$conf.int[1])
#     print(test$conf.int[2])
#   }
# }
#Rename conds for prettiness
if (!doExtension) {
data$xEXPERIMENT[data$EXPERIMENT == 'MannerOfMotionCondition'] <- "Manner"
data$xEXPERIMENT[data$EXPERIMENT == 'PathCondition'] <- "Path"
data$EXPERIMENT <- data$xEXPERIMENT
}
makePlot = function(ydata, ylab, title="")
{
#aggregate data to get mean per trial per condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT, verb = data$TRIAL), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
for (trial in unique(data$TRIAL))
{
n = length(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
x = sum(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#print(test$conf.int[1])
#print(test$conf.int[2])
#print(n)
#print(x)
}
}
print(plotData)
#make a plot with ggplot
pd <- position_dodge(0.1)
ggplot(plotData, aes(x=verb, y=pathmean, colour=cond, group=cond, ymax = 1)) +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1, position=pd) +
geom_line(position=pd) +
ylab(ylab) +
geom_point(position=pd, size=3) +
coord_cartesian(ylim=c(0,1)) +
ggtitle(title)
#scale_colour_manual(values = c("green","red"),
#name="",
#labels=c("Manner", "Path")) +
}
makePlot(data$pathTEST, "Proportion of Effect Responses", "Responses after training")
makePlot(data$pathBIAS, 'Proportion of EFFECT responses', 'Bias (1st presentation) responses')
if (doExtension) {
makePlot(data$pathEXT, 'Proportion of PATH responses', 'Bias responses - new domain')
}
#Now let's make some bar graphs too!
makeBar = function(ydata, ylab, title="")
{
plotData = NULL
#Aggregate mean/condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
n = length(ydata[data$EXPERIMENT == cond])
x = sum(ydata[data$EXPERIMENT == cond])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond] = test$conf.int[2]
}
print(plotData)
ggplot(plotData, aes(x=cond, y=pathmean, fill=cond)) +
geom_bar(stat="identity") +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1) +
coord_cartesian(ylim=c(0,1))+
ylab(ylab)+
ggtitle(title)
}
makeBar(data$pathTEST, 'Proportion of PATH responses', 'Responses after training')
makeBar(data$pathBIAS, 'Proportion of PATH responses', 'Bias (1st presentation) responses')
if (doExtension){
makeBar(data$pathEXT, 'Proportion of PATH responses', 'Bias responses - new domain')
}
unique(data$SUBNUM)
length(unique(data$SUBNUM))
#REMOVE TRIAL 1 of pathBIAS - they haven't seen any training and
#we thus expect no differences in bias between randomly assigned conditions!
data[data$TRIAL == 1,]$pathBIAS <- NA
#How many participants are in this set?
length(unique(data$SUBNUM))
library(lme4)
model_eff <- NULL
model_noeff <- NULL
#Simplest model: Does EXPERIMENT matter?
model_eff <- lmer(pathBIAS ~ EXPERIMENT  + (1|SUBNUM), data=data, family="binomial")
model_noeff <- lmer(pathBIAS ~ 1  + (1|SUBNUM), data=data, family="binomial")
anova(model_eff, model_noeff)
model_eff <- lmer(pathEXT ~ EXPERIMENT  + (1|SUBNUM), data=data, family="binomial")
model_noeff <- lmer(pathEXT ~ 1  + (1|SUBNUM), data=data, family="binomial")
anova(model_eff, model_noeff)
ggsave('tester.png')
ggsave('tester.png', width=4, height=4)
'the' + 'wm'
strcar('the,','we')
strcat('the,','we')
paste('the,','we')
#set path
setwd("/Users/mekline/Dropbox/_Projects/PrimingMannerPath/MannerPathPriming/Analysis/")
#load libraries
library(ggplot2)
#CLear history!!!
rm(list=ls())
#load data
data = read.csv('all_ext.csv', sep = ",", header = T)
doExtension = 1
#Drop participants
data <- data[!is.na(data$INCDECISION),]
data <- data[data$INCDECISION == 1,]
length(unique(data$SUBNUM))
#new variables
data$pathTEST[data$TEST == 'PATHBIAS'] = 1
data$pathTEST[data$TEST == 'MANNERBIAS'] = 0
data$pathBIAS[data$BIAS == 'PATHBIAS'] = 1
data$pathBIAS[data$BIAS == 'MANNERBIAS'] = 0
if (doExtension){
data$pathEXT[data$EXT == 'PATHBIAS'] = 1
data$pathEXT[data$EXT == 'MANNERBIAS'] = 0
}
dim(data)
#Remove NA levels (really elsewhere we should document what happened to those lines!)
data <- data[!is.na(data$EXPERIMENT), ]
data <- data[!is.na(data$TRIAL), ]
if (doExtension){
data <- data[!is.na(data$EXT),]
}else{
data <- data
}
dim(data)
# #Debugging the binomial testing
# for (cond in unique(data$EXPERIMENT))
# {
#   for (trial in unique(data$TRIAL))
#   {
#     n = length(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT)
#     x = sum(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT, na.rm=TRUE)
#     test = prop.test(x, n, conf.level=0.95)
#     #plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
#     #plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#     print('set')
#     print(x)
#     print(n)
#     print(test$conf.int[1])
#     print(test$conf.int[2])
#   }
# }
#Rename conds for prettiness
if (!doExtension) {
data$xEXPERIMENT[data$EXPERIMENT == 'MannerOfMotionCondition'] <- "Manner"
data$xEXPERIMENT[data$EXPERIMENT == 'PathCondition'] <- "Path"
data$EXPERIMENT <- data$xEXPERIMENT
}
makePlot = function(ydata, ylab, title="")
{
#aggregate data to get mean per trial per condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT, verb = data$TRIAL), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
for (trial in unique(data$TRIAL))
{
n = length(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
x = sum(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#print(test$conf.int[1])
#print(test$conf.int[2])
#print(n)
#print(x)
}
}
print(plotData)
#make a plot with ggplot
pd <- position_dodge(0.1)
ggplot(plotData, aes(x=verb, y=pathmean, colour=cond, group=cond, ymax = 1)) +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1, position=pd) +
geom_line(position=pd) +
ylab(ylab) +
geom_point(position=pd, size=3) +
coord_cartesian(ylim=c(0,1)) +
ggtitle(title)
#scale_colour_manual(values = c("green","red"),
#name="",
#labels=c("Manner", "Path")) +
}
makePlot(data$pathTEST, "Proportion of Effect Responses", "Responses after training")
makePlot(data$pathBIAS, 'Proportion of EFFECT responses', 'Bias (1st presentation) responses')
if (doExtension) {
makePlot(data$pathEXT, 'Proportion of PATH responses', 'Bias responses - new domain')
}
#Now let's make some bar graphs too!
makeBar = function(ydata, ylab, title="")
{
plotData = NULL
#Aggregate mean/condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
n = length(ydata[data$EXPERIMENT == cond])
x = sum(ydata[data$EXPERIMENT == cond])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond] = test$conf.int[2]
}
print(plotData)
ggplot(plotData, aes(x=cond, y=pathmean, fill=cond)) +
geom_bar(stat="identity") +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1) +
coord_cartesian(ylim=c(0,1))+
ylab(ylab)+
ggtitle(title)
}
if (doExtension){
makeBar(data$pathTEST, 'Proportion of EFFECT responses')
ggsave('AE_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of EFFECT responses')
ggsave('AE_bias.png', width=4, height=4)
makeBar(data$pathEXT, 'Proportion of PATH responses')
ggsave('AE_ext.png', width=4, height=4)
} else{
makeBar(data$pathTEST, 'Proportion of PATH responses')
ggsave('MP_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of PATH responses')
ggsave('MP_bias.png', width=4, height=4)
}
#set path
setwd("/Users/mekline/Dropbox/_Projects/PrimingMannerPath/MannerPathPriming/Analysis/")
#load libraries
library(ggplot2)
#CLear history!!!
rm(list=ls())
#load data
data = read.csv('all_ext.csv', sep = ",", header = T)
doExtension = 1
#Drop participants
data <- data[!is.na(data$INCDECISION),]
data <- data[data$INCDECISION == 1,]
length(unique(data$SUBNUM))
#new variables
data$pathTEST[data$TEST == 'PATHBIAS'] = 1
data$pathTEST[data$TEST == 'MANNERBIAS'] = 0
data$pathBIAS[data$BIAS == 'PATHBIAS'] = 1
data$pathBIAS[data$BIAS == 'MANNERBIAS'] = 0
if (doExtension){
data$pathEXT[data$EXT == 'PATHBIAS'] = 1
data$pathEXT[data$EXT == 'MANNERBIAS'] = 0
}
dim(data)
#Remove NA levels (really elsewhere we should document what happened to those lines!)
data <- data[!is.na(data$EXPERIMENT), ]
data <- data[!is.na(data$TRIAL), ]
if (doExtension){
data <- data[!is.na(data$EXT),]
}else{
data <- data
}
dim(data)
# #Debugging the binomial testing
# for (cond in unique(data$EXPERIMENT))
# {
#   for (trial in unique(data$TRIAL))
#   {
#     n = length(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT)
#     x = sum(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT, na.rm=TRUE)
#     test = prop.test(x, n, conf.level=0.95)
#     #plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
#     #plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#     print('set')
#     print(x)
#     print(n)
#     print(test$conf.int[1])
#     print(test$conf.int[2])
#   }
# }
#Rename conds for prettiness
if (!doExtension) {
data$xEXPERIMENT[data$EXPERIMENT == 'MannerOfMotionCondition'] <- "Manner"
data$xEXPERIMENT[data$EXPERIMENT == 'PathCondition'] <- "Path"
data$EXPERIMENT <- data$xEXPERIMENT
}
makePlot = function(ydata, ylab, title="")
{
#aggregate data to get mean per trial per condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT, verb = data$TRIAL), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
for (trial in unique(data$TRIAL))
{
n = length(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
x = sum(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#print(test$conf.int[1])
#print(test$conf.int[2])
#print(n)
#print(x)
}
}
print(plotData)
#make a plot with ggplot
pd <- position_dodge(0.1)
ggplot(plotData, aes(x=verb, y=pathmean, colour=cond, group=cond, ymax = 1)) +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1, position=pd) +
geom_line(position=pd) +
ylab(ylab) +
geom_point(position=pd, size=3) +
coord_cartesian(ylim=c(0,1)) +
ggtitle(title)
#scale_colour_manual(values = c("green","red"),
#name="",
#labels=c("Manner", "Path")) +
}
makePlot(data$pathTEST, "Proportion of Effect Responses", "Responses after training")
makePlot(data$pathBIAS, 'Proportion of EFFECT responses', 'Bias (1st presentation) responses')
if (doExtension) {
makePlot(data$pathEXT, 'Proportion of PATH responses', 'Bias responses - new domain')
}
#Now let's make some bar graphs too!
makeBar = function(ydata, ylab, title="")
{
plotData = NULL
#Aggregate mean/condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
n = length(ydata[data$EXPERIMENT == cond])
x = sum(ydata[data$EXPERIMENT == cond])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond] = test$conf.int[2]
}
ggplot(plotData, aes(x=cond, y=pathmean, fill=cond)) +
geom_bar(stat="identity") +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1) +
coord_cartesian(ylim=c(0,1))+
ylab(ylab)+
xlab('')+
theme(legend.position="none")+
ggtitle(title)
}
if (doExtension){
makeBar(data$pathTEST, 'Proportion of EFFECT responses')
ggsave('AE_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of EFFECT responses')
ggsave('AE_bias.png', width=4, height=4)
makeBar(data$pathEXT, 'Proportion of PATH responses')
ggsave('AE_ext.png', width=4, height=4)
} else{
makeBar(data$pathTEST, 'Proportion of PATH responses')
ggsave('MP_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of PATH responses')
ggsave('MP_bias.png', width=4, height=4)
}
#set path
setwd("/Users/mekline/Dropbox/_Projects/PrimingMannerPath/MannerPathPriming/Analysis/")
#load libraries
library(ggplot2)
#CLear history!!!
rm(list=ls())
#load data
data = read.csv('all.csv', sep = ",", header = T)
doExtension = 0
#Drop participants
data <- data[!is.na(data$INCDECISION),]
data <- data[data$INCDECISION == 1,]
length(unique(data$SUBNUM))
#new variables
data$pathTEST[data$TEST == 'PATHBIAS'] = 1
data$pathTEST[data$TEST == 'MANNERBIAS'] = 0
data$pathBIAS[data$BIAS == 'PATHBIAS'] = 1
data$pathBIAS[data$BIAS == 'MANNERBIAS'] = 0
if (doExtension){
data$pathEXT[data$EXT == 'PATHBIAS'] = 1
data$pathEXT[data$EXT == 'MANNERBIAS'] = 0
}
dim(data)
#Remove NA levels (really elsewhere we should document what happened to those lines!)
data <- data[!is.na(data$EXPERIMENT), ]
data <- data[!is.na(data$TRIAL), ]
if (doExtension){
data <- data[!is.na(data$EXT),]
}else{
data <- data
}
dim(data)
# #Debugging the binomial testing
# for (cond in unique(data$EXPERIMENT))
# {
#   for (trial in unique(data$TRIAL))
#   {
#     n = length(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT)
#     x = sum(data[data$EXPERIMENT == cond & data$TRIAL == trial,]$pathEXT, na.rm=TRUE)
#     test = prop.test(x, n, conf.level=0.95)
#     #plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
#     #plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#     print('set')
#     print(x)
#     print(n)
#     print(test$conf.int[1])
#     print(test$conf.int[2])
#   }
# }
#Rename conds for prettiness
if (!doExtension) {
data$xEXPERIMENT[data$EXPERIMENT == 'MannerOfMotionCondition'] <- "Manner"
data$xEXPERIMENT[data$EXPERIMENT == 'PathCondition'] <- "Path"
data$EXPERIMENT <- data$xEXPERIMENT
}
makePlot = function(ydata, ylab, title="")
{
#aggregate data to get mean per trial per condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT, verb = data$TRIAL), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
for (trial in unique(data$TRIAL))
{
n = length(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
x = sum(ydata[data$EXPERIMENT == cond & data$TRIAL == trial])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond & plotData$verb == trial] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond & plotData$verb == trial]  = test$conf.int[2]
#print(test$conf.int[1])
#print(test$conf.int[2])
#print(n)
#print(x)
}
}
print(plotData)
#make a plot with ggplot
pd <- position_dodge(0.1)
ggplot(plotData, aes(x=verb, y=pathmean, colour=cond, group=cond, ymax = 1)) +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1, position=pd) +
geom_line(position=pd) +
ylab(ylab) +
geom_point(position=pd, size=3) +
coord_cartesian(ylim=c(0,1)) +
ggtitle(title)
#scale_colour_manual(values = c("green","red"),
#name="",
#labels=c("Manner", "Path")) +
}
makePlot(data$pathTEST, "Proportion of Effect Responses", "Responses after training")
makePlot(data$pathBIAS, 'Proportion of EFFECT responses', 'Bias (1st presentation) responses')
if (doExtension) {
makePlot(data$pathEXT, 'Proportion of PATH responses', 'Bias responses - new domain')
}
#Now let's make some bar graphs too!
makeBar = function(ydata, ylab, title="")
{
plotData = NULL
#Aggregate mean/condition
plotData = aggregate(x = list(pathmean = ydata), by = list( cond = data$EXPERIMENT), FUN = mean)
#get the binomial conf.intervals per condition per trial
for (cond in unique(data$EXPERIMENT))
{
n = length(ydata[data$EXPERIMENT == cond])
x = sum(ydata[data$EXPERIMENT == cond])
test = prop.test(x, n, conf.level=0.95)
plotData$intLower[plotData$cond == cond] = test$conf.int[1]
plotData$intUpper[plotData$cond == cond] = test$conf.int[2]
}
ggplot(plotData, aes(x=cond, y=pathmean, fill=cond)) +
geom_bar(stat="identity") +
geom_errorbar(aes(ymin=intLower, ymax=intUpper), colour="black", width=.1) +
coord_cartesian(ylim=c(0,1))+
ylab(ylab)+
xlab('')+
theme(legend.position="none")+
ggtitle(title)
}
if (doExtension){
makeBar(data$pathTEST, 'Proportion of EFFECT responses')
ggsave('AE_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of EFFECT responses')
ggsave('AE_bias.png', width=4, height=4)
makeBar(data$pathEXT, 'Proportion of PATH responses')
ggsave('AE_ext.png', width=4, height=4)
} else{
makeBar(data$pathTEST, 'Proportion of PATH responses')
ggsave('MP_test.png', width=4, height=4)
makeBar(data$pathBIAS, 'Proportion of PATH responses')
ggsave('MP_bias.png', width=4, height=4)
}
